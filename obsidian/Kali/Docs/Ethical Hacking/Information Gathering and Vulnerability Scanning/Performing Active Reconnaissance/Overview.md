**Protego Security Solutions**

As part of the PenTesting information gathering process, you will participate in active reconnaissance of the Pixel Paradise internal network. Here is what we know about the network so far.

The Pixel Paradise network includes the following:

- **User endpoints**: Desktops, laptops, mobile devices, and gaming consoles used by employees.
- **Facilities-related endpoints**: Surveillance cameras, an alarm system, climate control sensors and actuators, lighting control systems, and VoIP systems.
- **Intermediary devices**: Routers and switches that connect endpoints and other networks.
- **Wireless Access Points**: Devices that provide Wi-Fi access to employees.
- **Firewalls**: Devices that protect the network from external threats and unauthorized access.
- **Servers**: On-premises servers that provide file storage, database access, and other services such as email.
- **Cloud Infrastructure**: Amazon Web Services

---

**Active Reconnaissance**

As mentioned earlier in this module, with each step of the information gathering phase, the goal is to gather additional information about the target. The process of gathering this information is called _enumeration._ So, letâ€™s talk about what kind of enumeration you would typically be doing in a penetration test. In an earlier example, we looked at the enumeration of hosts exposed to the Internet by h4cker.org. External enumeration of hosts is usually one of the first things you do in a penetration test. Determining the Internet-facing hosts of a target network can help you identify the systems that are most exposed. Obviously, a device that is publicly accessible over the Internet is open to attack from malicious actors all over the world. After you identify those systems, you then need to identify which services are accessible. A server should be behind a firewall, allowing minimal exposure to the services it is running. Sometimes, however, services that are not expected are exposed. To determine if a network is running any such services, you can run a port scan to enumerate the services that are running on the exposed hosts.

**Port Scans**

A **_port scan_** is an active scan in which the scanning tool sends various types of probes to the target IP address and then examines the responses to determine whether the service is actually listening. For instance, with an Nmap SYN scan, the tool sends a TCP SYN packet to the TCP port it is probing. This process is also referred to as half-open scanning because it does not open a full TCP connection. If the response is a SYN/ACK, this would indicate that the port is actually in a listening state. If the response to the SYN packet is an RST (reset), this would indicate that the port is closed or is not in a listening state. If the SYN probe does not receive any response, Nmap marks it as filtered because it cannot determine if the port is open or closed. Table 3-2 defines the SYN scan responses when using Nmap.

**_Table 3-2_** _-_ _SYN Scan Responses_

![[Pasted image 20240621093119.png]]

Figure 3-8 illustrates how a SYN scan works, and Example 3-19 shows the output of a SYN scan.

**_Figure 3-8_** _- Nmap SYN Scan Illustration_

![[Pasted image 20240621093244.png]]

**_Example 3-19_** _-_ _Nmap SYN Scan Sample Output_

![[Pasted image 20240621093311.png]]

Example 3-19 shows how to run a TCP SYN scan using Nmap by specifying the **-sS** option against a host with the IP address 192.168.88.251. As you can see, this system has several ports open. In some situations, you will want to use the many different Nmap options in your scans to get the results you are looking for. The sections that follow look at some of the most common options and types of scans available in Nmap.


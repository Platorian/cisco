What Did I Learn in this Module?#

> **Performing Passive Reconnaissance**

Reconnaissance is the initial step in a cyber attack where an attacker gathers information about the target. There are two types of reconnaissance: active and passive. Active reconnaissance involves sending probes to the target network or systems, while passive reconnaissance does not interact directly with the target, using third-party databases and eavesdropping on network traffic instead.

Common active reconnaissance methods include host, network, user, group, network share, web page, application, and service enumeration, as well as packet crafting. Passive reconnaissance methods include domain enumeration, packet inspection, open-source intelligence (OSINT), Recon-ng, and eavesdropping.

Performing active reconnaissance typically starts with a small amount of information, and then gather more while scanning, eventually moving on to different types of scans and gathering additional information. Some techniques used by attackers include DNS lookups, identification of technical and administrative contacts, social media scraping, and inspecting cryptographic flaws in SSL certificates. Certificate transparency is another tool attackers can use to gather information about an organization's subdomains and systems.

Security breaches can directly impact a company's reputation. Attackers use various methods to gather information, including password dumps, file metadata, strategic search engine analysis, website archiving, and public source code repositories. Tools like h8mail and WhatBreach exploit breached data repositories, while ExifTool reveals metadata in files. Advanced search engine operators can uncover sensitive information, and website archiving allows for a historical view of websites. Open-source intelligence (OSINT) gathering involves collecting and analyzing publicly available information, with Recon-ng being a powerful framework for this purpose. Shodan scans the internet for vulnerable hosts and other exposed systems.

> **Perfoming Active Reconnaissance **

Performing active reconnaissance involves enumeration, which is the process of gathering information about a target during a penetration test. The first step is to identify the target's internet-facing hosts, followed by a port scan to enumerate the services running on those hosts. Nmap is a popular tool for such scans, including SYN scans, TCP connect scans, UDP scans, and TCP FIN scans.

A SYN scan sends a TCP SYN packet to the target port and analyzes the response to determine if the service is listening. TCP connect scans use the operating system's networking mechanism to establish a full TCP connection, which may trigger alarms on intrusion detection systems. UDP scans are useful for enumerating services like DNS, SNMP, or DHCP, which use UDP for communication. TCP FIN scans send a FIN packet to the target port, and if no response is received, the port is considered open.

Host discovery scans help determine if a host is online and responding on a network. Nmap also provides six timing templates (-T 0-5) to dictate the aggressiveness of a scan, ranging from very slow for IDS evasion to very aggressive, which may overwhelm targets or miss open ports.

Enumeration techniques used in the information-gathering include:

- **Host Enumeration**: Performed internally and externally, it involves scanning the IP addresses of a target using tools like Nmap or Masscan.
- **User Enumeration**: Collects a list of valid users to crack credentials by manipulating the Server Message Block (SMB) protocol on a Windows network.
- **Group Enumeration**: Helps determine authorization roles in the target environment by enumerating SMB groups using the Nmap NSE script **smb-enum-groups**.
- **Network Share Enumeration**: Identifies systems sharing files, folders, and printers on a network using the Nmap **smb-enum-shares** NSE script.
- **Web Page Enumeration/Web Application Enumeration**: Maps the attack surface of a web application using Nmap's **http-enum** NSE script and other tools like Nikto.
- **Service Enumeration**: Identifies services running on a remote system, primarily through Nmap's port scanning functionality.
- **Enumeration via Packet Crafting**: Scapy, a Python-based framework, can be used to perform network reconnaissance through packet generation.

Additionally, packet inspection and eavesdropping can be performed using tools like Wireshark, tshark, and tcpdump, aiding in passive reconnaissance during penetration testing.

> **Understanding The Art Of Performing Vulnerability Scans**

Performing active reconnaissance involves enumeration, which is the process of gathering information about a target during a penetration test. The first step is to identify the target's internet-facing hosts, followed by a port scan to enumerate the services running on those hosts. Nmap is a popular tool for such scans, including SYN scans, TCP connect scans, UDP scans, and TCP FIN scans.

A SYN scan sends a TCP SYN packet to the target port and analyzes the response to determine if the service is listening. TCP connect scans use the operating system's networking mechanism to establish a full TCP connection, which may trigger alarms on intrusion detection systems. UDP scans are useful for enumerating services like DNS, SNMP, or DHCP, which use UDP for communication. TCP FIN scans send a FIN packet to the target port, and if no response is received, the port is considered open.

Host discovery scans help determine if a host is online and responding on a network. Nmap also provides six timing templates (-T 0-5) to dictate the aggressiveness of a scan, ranging from very slow for IDS evasion to very aggressive, which may overwhelm targets or miss open ports.

Enumeration techniques used in the information-gathering include:

- **Host Enumeration**: Performed internally and externally, it involves scanning the IP addresses of a target using tools like Nmap or Masscan.
- **User Enumeration**: Collects a list of valid users to crack credentials by manipulating the Server Message Block (SMB) protocol on a Windows network.
- **Group Enumeration**: Helps determine authorization roles in the target environment by enumerating SMB groups using the Nmap NSE script **smb-enum-groups**.
- **Network Share Enumeration**: Identifies systems sharing files, folders, and printers on a network using the Nmap **smb-enum-shares** NSE script.
- **Web Page Enumeration/Web Application Enumeration**: Maps the attack surface of a web application using Nmap's **http-enum** NSE script and other tools like Nikto.
- **Service Enumeration**: Identifies services running on a remote system, primarily through Nmap's port scanning functionality.
- **Enumeration via Packet Crafting**: Scapy, a Python-based framework, can be used to perform network reconnaissance through packet generation.

Additionally, packet inspection and eavesdropping can be performed using tools like Wireshark, tshark, and tcpdump, aiding in passive reconnaissance during penetration testing.

> **Understanding How To Analyze Vulnerabilities**

Performing active reconnaissance involves enumeration, which is the process of gathering information about a target during a penetration test. The first step is to identify the target's internet-facing hosts, followed by a port scan to enumerate the services running on those hosts. Nmap is a popular tool for such scans, including SYN scans, TCP connect scans, UDP scans, and TCP FIN scans.

A SYN scan sends a TCP SYN packet to the target port and analyzes the response to determine if the service is listening. TCP connect scans use the operating system's networking mechanism to establish a full TCP connection, which may trigger alarms on intrusion detection systems. UDP scans are useful for enumerating services like DNS, SNMP, or DHCP, which use UDP for communication. TCP FIN scans send a FIN packet to the target port, and if no response is received, the port is considered open.

Host discovery scans help determine if a host is online and responding on a network. Nmap also provides six timing templates (-T 0-5) to dictate the aggressiveness of a scan, ranging from very slow for IDS evasion to very aggressive, which may overwhelm targets or miss open ports.

Enumeration techniques used in the information-gathering include:

- **Host Enumeration**: Performed internally and externally, it involves scanning the IP addresses of a target using tools like Nmap or Masscan.
- **User Enumeration**: Collects a list of valid users to crack credentials by manipulating the Server Message Block (SMB) protocol on a Windows network.
- **Group Enumeration**: Helps determine authorization roles in the target environment by enumerating SMB groups using the Nmap NSE script **smb-enum-groups**.
- **Network Share Enumeration**: Identifies systems sharing files, folders, and printers on a network using the Nmap **smb-enum-shares** NSE script.
- **Web Page Enumeration/Web Application Enumeration**: Maps the attack surface of a web application using Nmap's **http-enum** NSE script and other tools like Nikto.
- **Service Enumeration**: Identifies services running on a remote system, primarily through Nmap's port scanning functionality.
- **Enumeration via Packet Crafting**: Scapy, a Python-based framework, can be used to perform network reconnaissance through packet generation.

Additionally, packet inspection and eavesdropping can be performed using tools like Wireshark, tshark, and tcpdump, aiding in passive reconnaissance during penetration testing.

---

Reflection Questions

Once the contract is signed and the penetration testing engagement is underway, it is time to learn as much as possible about the client's network, applications, and systems. Passive reconnaissance is a good way to start. What kinds of valuable information can be found from passive reconnaissance? Active reconnaissance is more intrusive than passive reconnaissance. Because of this, why does a tester need to be careful of when doing active reconnaissance? 

Many vulnerability scanners are automated. While vulnerability scanners are generally accurate, it is important to manually verify some results. Why is this true? When analyzing vulnerability scanner results, why is it important to be familiar with CVE, CWE, and CVSS?


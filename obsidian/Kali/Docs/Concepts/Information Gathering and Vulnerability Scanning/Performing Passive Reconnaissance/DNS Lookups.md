Suppose, for example, that an attacker has a target, h4cker.org, in its sights. h4cker.org has an Internet presence, as most companies do. This presence is a website hosted at www.h4cker.org. Just as a home burglar would need to determine which entry and exit points exist in a home before he could commit a robbery, a cyber attacker needs to determine which of the target’s ports and protocols are exposed to the Internet. A burglar might take a walk around the outside of the house, looking for doors and windows, and then possibly take a look at the locks on the doors to determine their weaknesses. Similarly, a cyber attacker would perform tasks like scanning and enumeration.

Typically, an attacker would start with a small amount of information and gather more information while scanning, eventually moving on to performing different types of scans and gathering additional information. For instance, the attacker targeting h4cker.org might start by using **_DNS lookups_** to determine the IP address or addresses used by h4cker.org and any other subdomains that might be in use. Let’s say that those queries reveal that h4cker.org is using the IP addresses 185.199.108.153 for www.h4cker.org, 185.199.110.153 for mail.h4cker.org, and 185.199.110.153 for portal.h4cker.org. Example 3-1 shows an example of the DNSRecon tool in Kali Linux being used to query the DNS records for h4cker.org.

**_Example 3-1_** **_-_** _DNSRecon Example_

![[Pasted image 20240621084020.png]]

From there, an attacker can begin to dig deeper by scanning the identified hosts. Once the attacker knows which hosts are alive on the target site, he or she then needs to determine what kind of services the hosts are running. To do this, the attacker might use the tried-and-true Nmap tool. Before we discuss this tool and others in depth, we need to look at the types of scans and enumerations you should perform and why. Nmap was once considered a simple port scanner; however, it has evolved into a much more robust tool that can provide additional functionality, thanks to the Nmap Scripting Engine (NSE).

**TIP** Module 10, "Tools and Code Analysis," provides details about a variety of tools that can be used to perform reconnaissance and other aspects of the pen testing methodology. Many of these tools are already installed in the VM you downloaded for this course. However, you can also download your own penetration testing Linux distribution such as Kali Linux (_[kali.org](https://www.kali.org)_) or Parrot OS (_[parrotsec.org](https://www.parrotsec.org)_) and set up the WebSploit Labs (_[https://websploit.org](https://websploit.org)_) learning environment.

You can use other basic DNS tools, such as the **nslookup**, **host**, and **dig** Linux commands, to perform name resolution and obtain additional information about a domain. Example 3-2 shows how the Dig tool is used to show the DNS resolution details for h4cker.org.

**_Example 3-2_** **_-_** _Using Dig to Obtain Information About a Given Domain_

![[Pasted image 20240621084113.png]]

The highlighted lines show the IP addresses associated with h4cker.org. Similarly, you can use the **dig** < _domain_ > **mx** command to obtain the email servers used by h4cker.org (mail exchanger [MX] record), as demonstrated in Example 3-3.

**_Example 3-3_** **_-_** _Obtaining the MX Record of h4cker.org_

![[Pasted image 20240621084143.png]]

---

Practice - DNS Lookups

A user enters the command **dig h4kerone.org mx** on a Linux host. What is the purpose of using this command?

As part of the DNS lookup operation, the command dig h4kerone.org mx can be used to obtain the email servers used by h4kerone.org (mail exchange [MX] record).

